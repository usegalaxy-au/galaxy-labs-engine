<div class="modal fade" id="gtnModal" tabindex="-1">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Galaxy Training Network</h5>
        <a class="mx-3" id="gtnExternalLink" target="_blank">Open in new tab</a>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <!-- iframe content triggered by javascript -->
        <iframe id="gtnIframe" src="" frameborder="0" width="100%" style="height: 75vh;"></iframe>
      </div>
    </div>
  </div>
  <script>
    function openGtnModal(url) {
      $('#gtnIframe').attr('src', url);
      $('#gtnExternalLink').attr('href', url);
      $('#gtnModal').modal('show');
    }
    $(document).ready( () => {
      $('.gtn-modal').click( event => {
        if (event.ctrlKey) {
          return;
        }
        event.preventDefault();
        let target = event.target;
        while (target.tagName !== 'A') {
          target = target.parentElement;
        }
        openGtnModal(target.href);
      });
    });
  </script>
</div>
